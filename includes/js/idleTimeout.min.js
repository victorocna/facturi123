(function($){$.fn.idleTimeout=function(b){var c={inactivity:1200000,noconfirm:10000,sessionAlive:30000,redirect_url:'/js_sandbox/',click_reset:true,alive_url:'/js_sandbox/',logout_url:'/js_sandbox/'};var d=$.extend(c,b);var e,confTimeout,sessionTimeout;var f="<div id='modal_pop'><p>You are about to be signed out due to inactivity.</p></div>";var g=function(){clearTimeout(e);clearTimeout(confTimeout);e=setTimeout(h,d.inactivity);if(d.sessionAlive){clearTimeout(sessionTimeout);sessionTimeout=setTimeout(k,d.sessionAlive)}};var h=function(){confTimeout=setTimeout(i,d.noconfirm);$(f).dialog({buttons:{"Stay Logged In":function(){$(this).dialog('close');j()}},modal:true,title:'Auto Logout'})};var i=function(){if(d.logout_url){$.get(d.logout_url)}window.location.href=d.redirect_url};var j=function(a){g();if(d.alive_url){$.get(d.alive_url)}};var k=function(){$.get(d.alive_url);clearTimeout(sessionTimeout);sessionTimeout=setTimeout(k,d.sessionAlive)};return this.each(function(){obj=$(this);g();if(d.click_reset){$(document).bind('click',g)}if(d.sessionAlive){k()}})}})(jQuery);